<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>무제 문서</title>
	<script src="js/jquery.min.js"></script>
	
	<style>
		*{margin: 0; padding: 0;}
		li{list-style: none;}
		em, i, address{font-style: normal;}
		a{text-decoration: none; color: inherit;}
		.clearFix::after{content: ""; clear: both; display: block;}
		
		#wrap{width: 500px; height: 100px; padding-left: 20px; margin: 20px; border: 1px solid #3F3F3F; background: #D3D3D3;}
		#wrap .num{height: 50px; margin-right: 20px; line-height: 50px; box-sizing: border-box; border-bottom: 1px solid #3F3F3F;}
		#wrap #bottom{line-height: 50px;}
		#bottom button{width: 25px;height: 25px; border-radius: 50%; background: none; border: none; border: 1px solid gray; background: #fff; font-size: 18px; cursor: pointer;}
		#bottom .left{}
		#bottom input{width: 25px; height: 22px; padding-left: 5px; transform: translateY(-2px); box-sizing: border-box;}
		input::-webkit-outer-spin-button, input::-webkit-inner-spin-button {-webkit-appearance: none; margin: 0;}
		#bottom .right{}
		#bottom a{padding: 0 5px; border-radius: 10px; color: #fff; background: #1F9F19;}
		#bottom .price{float: right; padding-right: 20px;}
		#bottom .price span{font-weight: 700;}
	</style>
</head>

<body>
	
	<div id="wrap">
		<p class="num">수량</p>
		
		<div id="bottom">
			<button class="left" onClick="result(-1);">-</button>
			<input type="number" value="1" onChange="result(0);">
			<button class="right" onClick="result(1);">+</button>
			<a href="javascript:;">쿠폰적용</a>
			<p class="price"><span>9900</span>원</p>
		</div>
	</div>
	
	<script>
		
		const LEFT = document.querySelector('.left');
		const INPUT = document.querySelector('input');
		const RIGHT = document.querySelector('.right');
		const SPAN = document.querySelector('span');
		const A = document.querySelector('a');	// 쿠폰 버튼
		var str = 1;	// 수량
		var discount = 1;	// 10% 할인율 변수
		
		function result(e){
			
			if(e == 0){ // input태그 체인지 이벤트
				str = Number(INPUT.value);
			} else {	// 더하기 빼기 클릭 이벤트
				str += e;
				INPUT.value = str;
			}
			
			if(discount == 0.9){
				alert('쿠폰을 다시 적용해주세요.');
				discount = 1;
			}
			SPAN.innerHTML = 9900 * str;
		}
		
		A.addEventListener('click',function(){
			discount = 0.9;
			SPAN.innerHTML = 9900 * str * discount;
		})
	</script>
</body>
</html>
